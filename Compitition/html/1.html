<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>问题一求解流程图</title>
    <style>
        body {
            font-family: "Microsoft YaHei", "SimSun", Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .flowchart {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .node {
            margin: 15px auto;
            padding: 12px 20px;
            text-align: center;
            position: relative;
            width: 280px;
            font-size: 14px;
            line-height: 1.6;
        }
        .startstop {
            background: #ffcccc;
            border: 2px solid #ff6666;
            border-radius: 25px;
        }
        .process {
            background: #cce5ff;
            border: 2px solid #66b3ff;
        }
        .decision {
            background: #ccffcc;
            border: 2px solid #66cc66;
            transform: rotate(45deg);
            width: 180px;
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 30px auto;
        }
        .decision-text {
            transform: rotate(-45deg);
            font-weight: bold;
        }
        .data {
            background: #ffffcc;
            border: 2px solid #ffcc66;
        }
        .arrow {
            width: 2px;
            background: #333;
            height: 15px;
            margin: 0 auto;
            position: relative;
        }
        .arrow::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -4px;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 8px solid #333;
        }
        .arrow-label {
            position: absolute;
            left: 10px;
            top: -10px;
            font-size: 12px;
            color: #666;
        }
        .side-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }
        .horizontal-line {
            width: 150px;
            height: 2px;
            background: #333;
            position: relative;
        }
        .horizontal-line::after {
            content: '';
            position: absolute;
            right: 0;
            top: -4px;
            width: 0;
            height: 0;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 8px solid #333;
        }
        .loop-section {
            display: flex;
            gap: 30px;
            justify-content: center;
            align-items: flex-start;
            margin: 20px 0;
        }
        .loop-left {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .loop-right {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .formula {
            font-family: "Times New Roman", serif;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="flowchart">
        <h2>问题一求解流程图</h2>
        
        <!-- 开始 -->
        <div class="node startstop">开始</div>
        <div class="arrow"></div>
        
        <!-- 参数输入 -->
        <div class="node data">
            输入已知参数<br>
            <span class="formula">P<sub>FY1</sub>(0), v<sub>FY1</sub>, t<sub>drop</sub>, t<sub>delay</sub></span><br>
            <span class="formula">P<sub>M1</sub>(0), V<sub>M</sub>, P<sub>T</sub></span>
        </div>
        <div class="arrow"></div>
        
        <!-- 计算起爆位置 -->
        <div class="node process">
            计算烟幕弹起爆位置<br>
            <span class="formula"><b>P</b><sub>burst</sub></span>
        </div>
        <div class="arrow"></div>
        
        <!-- 计算起爆时刻 -->
        <div class="node process">
            计算起爆时刻<br>
            <span class="formula">t<sub>burst</sub> = t<sub>drop</sub> + t<sub>delay</sub></span>
        </div>
        <div class="arrow"></div>
        
        <!-- 时间离散化 -->
        <div class="node process">
            时间离散化<br>
            <span class="formula">t<sub>k</sub> = k·Δt, k = 0,1,...,N</span>
        </div>
        <div class="arrow"></div>
        
        <!-- 初始化 -->
        <div class="node process">
            初始化遮蔽计数器<br>
            <span class="formula">count = 0</span>
        </div>
        <div class="arrow"></div>
        
        <!-- 循环判断 -->
        <div class="node decision">
            <div class="decision-text"><span class="formula">k ≤ N</span> ?</div>
        </div>
        
        <div style="display: flex; justify-content: space-around; margin: -20px 0 20px 0;">
            <div style="width: 45%; text-align: center;">
                <span style="color: #666; font-size: 12px;">← 否</span>
            </div>
            <div style="width: 45%; text-align: center;">
                <span style="color: #666; font-size: 12px;">是 →</span>
            </div>
        </div>
        
        <div class="loop-section">
            <!-- 左侧：计算总时长路径 -->
            <div class="loop-left">
                <div class="arrow" style="height: 30px;"></div>
                <div class="node process">
                    计算总遮蔽时长<br>
                    <span class="formula">T<sub>cover</sub> = count × Δt</span>
                </div>
            </div>
            
            <!-- 右侧：主循环 -->
            <div class="loop-right">
                <div class="arrow" style="height: 30px;"></div>
                
                <!-- 计算导弹位置 -->
                <div class="node process">
                    计算导弹位置<br>
                    <span class="formula"><b>P</b><sub>M</sub>(t<sub>k</sub>)</span>
                </div>
                <div class="arrow"></div>
                
                <!-- 判断是否起爆 -->
                <div class="node decision">
                    <div class="decision-text">
                        <span class="formula">t<sub>k</sub> ≥ t<sub>burst</sub></span> ?
                    </div>
                </div>
                
                <div style="text-align: center; margin: -10px 0 10px 0;">
                    <span style="color: #666; font-size: 12px;">是 ↓</span>
                </div>
                
                <!-- 计算烟幕位置 -->
                <div class="node process">
                    计算烟幕中心位置<br>
                    <span class="formula"><b>P</b><sub>S</sub>(t<sub>k</sub>)</span>
                </div>
                <div class="arrow"></div>
                
                <!-- 计算距离 -->
                <div class="node process">
                    计算点到线段距离<br>
                    <span class="formula">D(t<sub>k</sub>)</span>
                </div>
                <div class="arrow"></div>
                
                <!-- 判断遮蔽 -->
                <div class="node decision">
                    <div class="decision-text">
                        <span class="formula">D(t<sub>k</sub>) ≤ R<sub>cloud</sub></span> ?
                    </div>
                </div>
                
                <div style="text-align: center; margin: -10px 0 10px 0;">
                    <span style="color: #666; font-size: 12px;">是 ↓</span>
                </div>
                
                <!-- 累加计数 -->
                <div class="node process">
                    <span class="formula">count = count + 1</span>
                </div>
                <div class="arrow"></div>
                
                <!-- k增加 -->
                <div class="node process">
                    <span class="formula">k = k + 1</span>
                </div>
                
                <div style="text-align: center; margin: 10px 0;">
                    <span style="color: #666; font-size: 12px;">↑ 返回循环判断</span>
                </div>
            </div>
        </div>
        
        <!-- 输出结果 -->
        <div class="node data">
            输出结果<br>
            起爆坐标、时刻、遮蔽时长
        </div>
        <div class="arrow"></div>
        
        <!-- 结束 -->
        <div class="node startstop">结束</div>
    </div>
</body>
</html>